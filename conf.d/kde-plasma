# vim: filetype=sh

######################################
#            kde/plasma              #
######################################

#assign [title="Desktop — Plasma"] $ws9
#for_window [title="Desktop — Plasma"] move to workspace $ws9
 
# https://userbase.kde.org/Tutorials/Using_Other_Window_Managers_with_Plasma
# https://github.com/heckelson/i3-and-kde-plasma

exec --no-startup-id wmctrl -c Plasma
#for_window [title="Desktop — Plasma"] kill; floating enable; border none
for_window [title="Desktop — Plasma"] kill; floating enable, move right -1000px; border none
for_window [class="plasmashell"] floating enable, move right 1px;
for_window [class="Plasma"] floating enable; border none
for_window [title="plasma-desktop"] floating enable; border none
for_window [class="plasmashell" window_type="notification"] floating enable, border none, move right 700px, move down 150px
no_focus [class="plasmashell" window_type="notification"] 

for_window [class="krunner"] floating enable; border none

#for_window [title="win7"] floating enable; border none
#for_window [class="Kmix"] floating enable; border none
#for_window [class="Klipper"] floating enable; border none
#for_window [class="Plasmoidviewer"] floating enable; border none
#for_window [class="(?i)*nextcloud*"] floating disable

# >>> Avoid tiling for non-Plasma stuff <<<
for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [window_role="Preferences"] floating enable
for_window [window_role="About"] floating enable 
for_window [window_type="dialog"] floating enable
for_window [window_type="menu"] floating enable

no_focus [class=”plasmashell”]

force_display_urgency_hint 0 ms
focus_on_window_activation urgent

# using plasma's logout screen instead of i3's
bindsym $mod+Shift+e exec --no-startup-id qdbus org.kde.ksmserver /KSMServer org.kde.KSMServerInterface.logout -1 -1 -1

## krunner
bindsym $mod+o exec qdbus org.kde.kglobalaccel /component/krunner org.kde.kglobalaccel.Component.invokeShortcut 'run command' 

#bindsym $mod+control+shift+Return exec plasmashell

# Alt+F3
bindsym Mod1+F3 exec --no-startup-id qdbus org.kde.plasmashell /PlasmaShell org.kde.PlasmaShell.activateLauncherMenu
