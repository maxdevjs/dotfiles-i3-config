# vim: filetype=sh

#include conf.d/header

#                                  ██ ██████
#                                  ██      ██
#                                  ██  █████
#                                  ██      ██
#                                  ██ ██████

# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout somewhen, delete
# this file and re-run i3-config-wizard(1).
#
# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# Author: maxdevjs
# Version:1.1
# Repo: https://github.com/maxdevjs/dotfiles

# https://i3wm.org/docs/userguide.html#_layout_mode_for_new_containers
# workspace_layout default|stacking|tabbed
workspace_layout tabbed

# TODO it breaks bindings
#include conf.d/bindings

###################################
#             actions             #
###################################

#bindsym $mod+m [class="(?i)mpv"] floating enable   move container to output HDMI-1, move to position 0 px 0 px

#bindsym $mod+m [class="(?i)mpv"] floating enable   move container to output HDMI-1, move to position 1370 px 4 px

###################################
#               apps              #
###################################

include conf.d/apps
#include conf.d/apps-screenshot

####################################
#               bar                #
####################################

include conf.d/polybar

###################################
#            bindings             #
###################################

# vim: filetype=sh

# Super/Win
set $mod Mod4
# Alt
#set $mod Mod1

# kill focused window
bindsym $mod+Shift+q kill
bindsym Mod1+F4 kill

bindsym $mod+Shift+Control+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+Control+r restart

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+Control+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"
bindsym $mod+Control+e exec "i3-nagbar -t warning -m 'Do you really want to lock i3?' -b 'Yes, lock i3' '~/dotfiles/bin/i3lock-fancy'"

# lock session
bindsym $mod+Shift+Control+l exec ~/.local/bin/i3lock-fancy

# https://faq.i3wm.org/question/3747/enabling-multimedia-keys.1.html
# https://www.reddit.com/r/i3wm/comments/45yz3n/keyboard_media_keys_volume_control/
#bindsym XF86AudioRaiseVolume exec pactl set-sink-volume 0 +2% 
#bindsym XF86AudioLowerVolume exec pactl set-sink-volume 0 -2%
#bindsym XF86AudioMute exec pactl set-sink-mute 0 toggle
#bindsym XF86AudioPlay exec playerctl play-pause
#bindsym XF86AudioNext exec playerctl next
#bindsym XF86AudioPrev exec playerctl previous

#bindsym XF86AudioRaiseVolume exec --no-startup-id $HOME/dotfiles/wms/commons/scripts/notify_volume + 5
#bindsym XF86AudioLowerVolume exec --no-startup-id $HOME/dotfiles/wms/commons/scripts/notify_volume - 5
#bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id $HOME/dotfiles/wms/commons/scripts/notify_volume + 10
#bindsym Shift+XF86AudioLowerVolume exec --no-startup-id $HOME/dotfiles/wms/commons/scripts/notify_volume - 10
#bindsym XF86AudioMute exec --no-startup-id $HOME/dotfiles/wms/commons/scripts/notify_volume !

#morc_menu
bindsym $mod+z exec $HOME/dotfiles/wms/commons/morc_menu/morc_menu/morc_menu

bindsym $mod+Control+n exec $HOME/dotfiles/wms/commons/networkmanager-dmenu/networkmanager_dmenu

# focus mode
# vertical horizontal
#bindsym $mod+q split vertical; mark lastsplit; exec /home/max/dotfiles/bin/i3wm-focus.sh/i3wm-focus
bindsym $mod+q exec /home/max/dotfiles/bin/i3wm-focus.sh/i3wm-focus
#bindsym $mod+q exec /home/max/dotfiles/bin/i3wm-focus.sh/i3wm-focus
#bindsym --release Caps_Lock exec pkill -SIGRTMIN+11 i3blocks

# https://community.spotify.com/t5/Desktop-Linux/Basic-controls-via-command-line/td-p/4295625
# https://wiki.debian.org/Keyboard/MultimediaKeys
bindsym --release XF86AudioPlay exec dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause
bindsym --release XF86AudioPrev exec dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Previous
bindsym --release XF86AudioNext exec dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Next

#bindsym $mod+Control+Return exec ~/dotfiles/bin/i3-sensible-terminal
#bindsym $mod+Shift+Return exec gnome-terminal
bindsym $mod+Return exec kitty
#bindsym $mod+Shift+Return exec kitty


###################################
#              exec               #
###################################

include conf.d/exec

###################################
#              gaps               #
###################################

include conf.d/gaps

###################################
#              media              #
###################################

include conf.d/media

###################################
#              modes              #
###################################

include conf.d/modes

###################################
#               rofi              #
###################################

include conf.d/rofi

###################################
#           scratchpad            #
###################################

include conf.d/scratchpad

###################################
#               ui                #
###################################

include conf.d/ui

######################################
#         window management          #
######################################

include conf.d/window-management

######################################
#            workspaces              #
######################################

#include conf.d/workspaces

###################################
#             assign              #
###################################

#include conf.d/assign

# vim: filetype=sh

# navigation
# prev next workspace
bindsym $mod+comma workspace prev
bindsym $mod+period workspace next

# tab between recent workspaces
bindsym $mod+Tab workspace back_and_forth
# next/previous workspace
bindsym Mod1+Tab workspace next
bindsym Mod1+Shift+Tab workspace prev
#bindsym Ctrl+Mod1+Left workspace prev
#bindsym Ctrl+Mod1+Right workspace next
# move focused workspace between monitors
# (i3-msg) move workspace to output left|right|down|up|current|primary|<output>
bindsym $mod+Ctrl+greater move workspace to output right
bindsym $mod+Ctrl+less move workspace to output left

# setting workspaces variables
set $ws1 "1:"
set $ws2 "2:"
set $ws3 "3:"
set $ws4 "4:"
set $ws5 "5:"
set $ws6  "6:"
set $ws7  "7:"
set $ws8  "8:  "
set $ws9  "9:  "
set $ws10 "10:"

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace $ws10

assign [title="Google Chrome"] $ws1
assign [title="Firefox"] $ws2
assign [class="Deadbeef"] $ws5
#for_window [title="System Monitor"] move to workspace $ws10
for_window [title="System Settings"] move to workspace $ws10
assign [title="Filelight"] $ws10

# Processing
for_window [class="^Processing$"] move to workspace $ws3
assign [class="processing-core-PApplet"] workspace $ws3


######################################
#            kde/plasma              #
######################################

# TODO programmatically
#include conf.d/kde-plasma
